---
title: 浅析不同指令集L1级Cache的大小问题
date: 2022-07-22 23:19:58
updated: 
twitter: 
pinned: true
---

这个选题的切入点来源于一组数据的比较。下图是我目前机器的处理器信息：

![9750h](images/9750h.png)

可以看到，Intel i7 9750H，6个Cores，每个Cores有独立的32KB L1i和32KB L1d，以及256KB的L2 Cache，同时共享12MB L3。我机器在2019年7月购入，i7 9750H在当时应该也是x86阵营相对性能比较靠前的处理器，比它低一个档次的i5 9300H大体是这个数据，高不止一个档次的i9 9900K也是这个数据。

与之比较，我们再看一下2020年10月份发布的Apple AArch64 M1，它Performance Cores是192KB L1i和128KB L1d，Efficient Cores也有128KB L1i和64KB L1d，L2上，Performance Cores有12MB，Efficiency Cores有4MB。

大有不同。

## （一）Cache大小的不同取舍

大就一定好？小就一定不好？大的话好处怎样？代价又如何？小呢？

## （二）较大L1级Cache的实现

L1级Cache不同于L2和L3，它应该尽可能在较少的时钟周期内就能访问到所有数据单元，否则代价大于收益。这个矛盾，就对较大的L1级Cache的实现提出了比较高的要求，这个问题具体来说怎么解决呢？

## （三）关于冯诺依曼结构和Cache

冯诺依曼体系结构的核心是「存储程序」，但是这同时带来了CPU频率和存储器读写周期之间的不协调问题，Cache或者说计算机的层次化存储结构就是为了解决这个问题而被发明的。这能否带给我们一些什么启发？

