---
title: 从Web系统功能想到的
date: 2022-06-04 01:40:30
updated: 2022-06-04 01:40:30
---
> 整理自 Twitter

所谓的「web前后端」系统，一言以蔽之：浏览器里的JavaScript调一些HTTP API，与同样调HTTP API的服务器后端进程通信，这个后端用什么语言无所谓，有运行环境就可以。

想说了，就多说点：目前而言，浏览器里最基本的还是HTML，超文本标记语言，可以理解为是一种数据堆叠的结构化文档，与其配合的是CSS，层叠样式表，为HTML这种结构化文档增加一些描述信息，比如字体大小、背景颜色等。浏览器的作用之一就是将CSS描述的HTML渲染成页面，实现从「代码」到「成果」的转换。

但仅仅有HTML和CSS还远远不够，人们有更为高级的需求，即动态页面。举个最简单的例子，如果访问者性别为「男」，那你就不应该再向他展示一些女性生理用品。没错，就这么一个简单的「逻辑」，就需要创造一门编程语言。因为HTML终究只是文档，数据的堆叠而已，CSS只不过加了一些补充信息，谈不上逻辑。

编程语言最核心的功能，我认为就是向计算机表明操作「逻辑」，即「在某种条件下它应该对什么对象有什么行为」。如果访问者选择了男性性别，那么就不该展示卫生巾信息。这类有逻辑交互的功能，仅凭HTML和CSS是很难实现的。所以就诞生了JavaScript，这种跑在浏览器里的编程语言。

事实上，通过调用操作系统提供的API而向外界发送HTTP请求这个功能，是由浏览器实现的。浏览器怎么知道它什么时候该发什么请求？超链接，比如HTML提供的`<a>`标签。那作为浏览器里跑的编程语言，JavaScript能告诉浏览器它什么时候发什么请求吗？当然能，从头实现很复杂，但是调现成的方法却很简单。

以上就是所谓的「前端」，即用户浏览器里跑的东西。前端需要做的就是展示页面逻辑，然后把用户的操作如实以HTTP请求的方式发送给后端。后端就更简单了，只需要监听某个特定端口，一般是80或者443，每当有请求过来，则web服务进程会自动将某个特定路径下的文件作为响应反馈给前端，供其展示。

可这不就又产生了新问题？你只能返回静态文件，不能根据前端请求中的某些参数返回动态响应。举例，web目录有个可执行文件可将传入的两个参数`$a`和`$b`加和后输出结果`$c`，此时前端请求该可执行文件运算`$a=1`与`$b=1`加和后的结果，但你却只能返回静态文件，会发生什么？你会把这个文件本身返回给前端！

所以，现代web服务都可把某些请求转发给特定的解析进程。譬如刚刚的加和程序如果是用PHP写的，那么web服务就会把这个请求参数一并转发给PHP解释器，请求其以对应参数为操作数据执行该目录下的源码文件。这种以加和程序为例对外界请求进行特定操作然后产生响应的程序，就是我们需要编写的所谓「后端」。

这里就有另外一个问题，后端用什么语言？什么语言最终都要转化为二进制程序加载到内存中执行，所以本质上它们没有区别，只是在一些实现方法上有一定不同，比如Java的JRE等。什么是运行环境？就是能够把你编写的代码转换为计算机能懂的二进制语言的程序。PHP解释器也好，Gcc也罢，都是这个作用。

为什么你向后端请求某个东西，后端能给你？换句话说，为什么后端计算机有这个「功能」？因为有我们编写的程序进程在！它在操作系统的包裹下一直在运行，所以后端计算机才在这个「软件」的支持下有了这个特定功能！